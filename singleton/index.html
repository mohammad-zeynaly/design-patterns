<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>singleton pattern</title>
  </head>
  <body>
    <p>
      فرض کنین یه وب اپی دارین که توش یه سری سرویس همزمان با همدیگه دارن
      فراخوانی میشن. این سرویسها رو فرض کنین از شماره ۱ تا ۴ شماره گذاری شدن. یه
      سرویس دیگه دارین به نام refreshToken که تو این سرویس درخواست میزنین سمت
      سرور که توکن جدید از سرور دریافت کنین. هر کدوم از اون ۴ تا سرویس از یه
      زیرساخت مشترک دارن استفاده میکنن به این صورت که اگر درخواستی ۴۰۱ بخوره، به
      صورت اتوماتیک سرویس رفرش توکن تو ماژول ارتباط با زیرساخت فراخوانی میشه. با
      توجه به اینکه تمام ۴ تا سرویس ما همزمان با همدیگه فراخوانی میشن در صورتیکه
      ۴۰۱ رو دریافت کنن هر کدوم به صورت جداگونه یه درخواست رفرش توکن رو صدا
      میزنن و اینطوری ما عملا داریم درخواست اضافهای سمت سرور میفرستیم. هدفمون هم
      اینه که دیزاین رو طوری تغییر بدیم که درخواست رفرش توکن فقط یه بار سمت سرور
      ارسال شه و لود اضافی روی سرور نداشته باشیم. اگر واستون مقدوره یه پیاده
      سازی ماک از سلوشن خود ارائه بدین
    </p>
    <script src="app.js"></script>
  </body>
</html>
